# Manufacturing Environment Variables Configuration
# This file contains environment variable templates for the Computer Vision CNC Manufacturing Platform
# Copy to .env and configure values for your specific deployment environment

# ============================================================================
# SYSTEM CONFIGURATION
# ============================================================================

# Application Environment
NODE_ENV=development
ENVIRONMENT=development
DEBUG=true
LOG_LEVEL=INFO

# Application Server
HOST=localhost
PORT=8000
WORKERS=4
RELOAD=true

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================

# Primary Database (PostgreSQL)
DATABASE_URL=postgresql://cv_cnc_user:secure_password@localhost:5432/cv_cnc_manufacturing
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=cv_cnc_manufacturing
DATABASE_USER=cv_cnc_user
DATABASE_PASSWORD=secure_password
DATABASE_SSL_MODE=prefer
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=30

# Time Series Database (InfluxDB)
INFLUXDB_URL=http://localhost:8086
INFLUXDB_TOKEN=your_influxdb_token_here
INFLUXDB_ORG=cv_cnc_manufacturing
INFLUXDB_BUCKET=manufacturing_metrics
INFLUXDB_RETENTION=30d

# Cache Database (Redis)
REDIS_URL=redis://localhost:6379/0
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
REDIS_SSL=false

# ============================================================================
# MANUFACTURING PROTOCOL CONFIGURATION
# ============================================================================

# MTConnect Configuration
MTCONNECT_ENABLED=true
MTCONNECT_HOST=localhost
MTCONNECT_PORT=5000
MTCONNECT_DEVICE_UUID=your_device_uuid_here
MTCONNECT_HEARTBEAT_INTERVAL=10000
MTCONNECT_BUFFER_SIZE=131072

# OPC-UA Configuration
OPCUA_ENABLED=true
OPCUA_ENDPOINT=opc.tcp://localhost:4840/freeopcua/server/
OPCUA_SECURITY_POLICY=Basic256Sha256
OPCUA_SECURITY_MODE=SignAndEncrypt
OPCUA_CERTIFICATE_PATH=./certs/opcua_client.der
OPCUA_PRIVATE_KEY_PATH=./certs/opcua_client.pem
OPCUA_TRUST_STORE_PATH=./certs/trusted/
OPCUA_NAMESPACE=http://cv-cnc-manufacturing.com

# Modbus Configuration
MODBUS_ENABLED=false
MODBUS_HOST=192.168.1.100
MODBUS_PORT=502
MODBUS_UNIT_ID=1
MODBUS_TIMEOUT=10
MODBUS_RETRY_ON_EMPTY=3

# ============================================================================
# COMPUTER VISION CONFIGURATION
# ============================================================================

# Camera Configuration
CAMERA_ENABLED=true
CAMERA_COUNT=4
CAMERA_RESOLUTION_WIDTH=1920
CAMERA_RESOLUTION_HEIGHT=1080
CAMERA_FPS=30
CAMERA_EXPOSURE_AUTO=true
CAMERA_GAIN_AUTO=true
CAMERA_TRIGGER_MODE=software

# Image Processing
IMAGE_PROCESSING_THREADS=8
IMAGE_BUFFER_SIZE=100
IMAGE_COMPRESSION_QUALITY=95
IMAGE_ARCHIVE_ENABLED=true
IMAGE_ARCHIVE_PATH=./data/images/
IMAGE_RETENTION_DAYS=30

# AI Model Configuration
AI_MODEL_PATH=./data/models/
AI_MODEL_DEVICE=cuda
AI_MODEL_BATCH_SIZE=16
AI_INFERENCE_TIMEOUT=100
AI_CONFIDENCE_THRESHOLD=0.85
AI_MODEL_UPDATE_INTERVAL=3600

# ============================================================================
# SECURITY CONFIGURATION
# ============================================================================

# Authentication
JWT_SECRET_KEY=your_very_secure_jwt_secret_key_here_min_32_chars
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# API Security
API_KEY_HEADER=X-API-Key
API_RATE_LIMIT=1000
API_RATE_LIMIT_PERIOD=3600
CORS_ORIGINS=http://localhost:3000,http://localhost:8080
CORS_ALLOW_CREDENTIALS=true

# Encryption
ENCRYPTION_KEY=your_32_byte_encryption_key_here
FIELD_ENCRYPTION_ENABLED=true
DATABASE_ENCRYPTION_ENABLED=true

# Certificate Management
TLS_ENABLED=true
TLS_CERTIFICATE_PATH=./certs/server.crt
TLS_PRIVATE_KEY_PATH=./certs/server.key
TLS_CA_CERTIFICATE_PATH=./certs/ca.crt
CERTIFICATE_AUTO_RENEWAL=true

# ============================================================================
# MANUFACTURING INTEGRATION
# ============================================================================

# CNC Machine Configuration
CNC_MANUFACTURER=HAAS
CNC_MODEL=VF-2
CNC_IP_ADDRESS=192.168.1.101
CNC_COMMUNICATION_PROTOCOL=MTCONNECT
CNC_POLLING_INTERVAL=1000
CNC_TIMEOUT=5000

# Quality Control
QC_ENABLED=true
QC_MEASUREMENT_TOLERANCE=0.001
QC_STATISTICAL_PROCESS_CONTROL=true
QC_CONTROL_LIMITS_SIGMA=3
QC_SAMPLE_SIZE=5
QC_ALERT_THRESHOLD=2

# Predictive Maintenance
PM_ENABLED=true
PM_VIBRATION_MONITORING=true
PM_TEMPERATURE_MONITORING=true
PM_TOOL_WEAR_MONITORING=true
PM_PREDICTION_HORIZON_HOURS=168
PM_ALERT_THRESHOLD=0.8

# ============================================================================
# MONITORING AND ALERTING
# ============================================================================

# Metrics Collection
METRICS_ENABLED=true
METRICS_ENDPOINT=/metrics
METRICS_COLLECTION_INTERVAL=10
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090

# Logging Configuration
LOG_FORMAT=json
LOG_FILE_PATH=./logs/cv_cnc_manufacturing.log
LOG_ROTATION_SIZE=100MB
LOG_RETENTION_DAYS=30
LOG_AUDIT_ENABLED=true

# Alerting
ALERTS_ENABLED=true
ALERT_EMAIL_ENABLED=false
ALERT_EMAIL_SMTP_HOST=smtp.gmail.com
ALERT_EMAIL_SMTP_PORT=587
ALERT_EMAIL_USERNAME=alerts@your-company.com
ALERT_EMAIL_PASSWORD=your_email_password
ALERT_EMAIL_RECIPIENTS=admin@your-company.com,operator@your-company.com

# Health Checks
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_ENDPOINT=/health
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10

# ============================================================================
# COMPLIANCE AND AUDIT
# ============================================================================

# Export Control
EXPORT_CONTROL_ENABLED=true
EXPORT_CONTROL_CLASSIFICATION=EAR99
EXPORT_CONTROL_LICENSE_REQUIRED=false
EXPORT_CONTROL_RESTRICTED_COUNTRIES=CN,IR,KP,SY

# Quality Standards
ISO9001_COMPLIANCE=true
IATF16949_COMPLIANCE=true
IEC62443_COMPLIANCE=true
AUDIT_TRAIL_ENABLED=true
AUDIT_LOG_RETENTION_YEARS=7

# Data Protection
GDPR_COMPLIANCE=false
DATA_ANONYMIZATION_ENABLED=false
DATA_RETENTION_POLICY_DAYS=2555
PERSONAL_DATA_ENCRYPTION=true

# ============================================================================
# DEVELOPMENT AND TESTING
# ============================================================================

# Development Settings
DEVELOPMENT_MODE=true
AUTO_RELOAD=true
HOT_RELOAD=true
DEBUG_TOOLBAR=true

# Testing Configuration
TEST_DATABASE_URL=postgresql://test_user:test_password@localhost:5432/cv_cnc_test
TEST_REDIS_URL=redis://localhost:6379/1
PYTEST_TIMEOUT=300
COVERAGE_THRESHOLD=80

# Mock Services
MOCK_CNC_ENABLED=false
MOCK_CAMERA_ENABLED=false
MOCK_SENSORS_ENABLED=false
SIMULATION_MODE=false

# ============================================================================
# CLOUD AND DEPLOYMENT
# ============================================================================

# Container Configuration
CONTAINER_REGISTRY=your-registry.com
CONTAINER_IMAGE_TAG=latest
KUBERNETES_NAMESPACE=cv-cnc-manufacturing
DOCKER_COMPOSE_PROJECT=cv-cnc

# Cloud Provider (AWS/Azure/GCP)
CLOUD_PROVIDER=aws
CLOUD_REGION=us-east-1
CLOUD_STORAGE_BUCKET=cv-cnc-manufacturing-data
CLOUD_BACKUP_ENABLED=true
CLOUD_BACKUP_FREQUENCY=daily

# Secrets Management
VAULT_ENABLED=false
VAULT_URL=https://vault.your-company.com
VAULT_TOKEN=your_vault_token
VAULT_MOUNT_PATH=cv-cnc/

# ============================================================================
# PERFORMANCE TUNING
# ============================================================================

# Processing Optimization
CPU_CORES=8
GPU_ENABLED=true
GPU_MEMORY_LIMIT=8GB
PARALLEL_PROCESSING=true
ASYNC_PROCESSING=true

# Memory Management
MAX_MEMORY_USAGE=16GB
MEMORY_POOL_SIZE=4GB
GARBAGE_COLLECTION_THRESHOLD=0.8
CACHE_SIZE=2GB

# Network Optimization
CONNECTION_POOL_SIZE=50
KEEP_ALIVE_TIMEOUT=30
READ_TIMEOUT=60
WRITE_TIMEOUT=60

# ============================================================================
# FEATURE FLAGS
# ============================================================================

# Experimental Features
FEATURE_ADVANCED_AI=false
FEATURE_EDGE_COMPUTING=false
FEATURE_BLOCKCHAIN_TRACEABILITY=false
FEATURE_AUGMENTED_REALITY=false

# Integration Features
FEATURE_SAP_INTEGRATION=false
FEATURE_MES_INTEGRATION=true
FEATURE_ERP_INTEGRATION=false
FEATURE_SCADA_INTEGRATION=true

# ============================================================================
# BACKUP AND RECOVERY
# ============================================================================

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_COMPRESSION=true
BACKUP_ENCRYPTION=true

# Disaster Recovery
DR_ENABLED=false
DR_SITE_URL=https://dr.your-company.com
DR_SYNC_INTERVAL=3600
DR_FAILOVER_THRESHOLD=300

# ============================================================================
# NOTIFICATIONS
# ============================================================================

# System Notifications
SLACK_WEBHOOK_URL=https://hooks.slack.com/your/webhook/url
TEAMS_WEBHOOK_URL=https://your-company.webhook.office.com/webhookb2/your-webhook
NOTIFICATION_CHANNELS=email,slack

# Manufacturing Alerts
PRODUCTION_STOP_ALERT=true
QUALITY_FAILURE_ALERT=true
MAINTENANCE_DUE_ALERT=true
SAFETY_ALERT=true
