# Computer Vision CNC Manufacturing Platform - Production Environment Configuration
# Copy this file to .env.production and update with your production values

# =============================================================================
# ENVIRONMENT CONFIGURATION
# =============================================================================
CV_CNC_ENV=production
CV_CNC_DEBUG=false
CV_CNC_VERSION=1.0.0

# =============================================================================
# API CONFIGURATION
# =============================================================================
CV_CNC_API_HOST=0.0.0.0
CV_CNC_API_PORT=8000
CV_CNC_API_WORKERS=4

# Security
CV_CNC_SECRET_KEY=your-super-secret-jwt-key-change-this-in-production
CV_CNC_ALGORITHM=HS256
CV_CNC_ACCESS_TOKEN_EXPIRE_MINUTES=30

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
POSTGRES_HOST=cv-cnc-postgres
POSTGRES_PORT=5432
POSTGRES_DB=cv_cnc_manufacturing
POSTGRES_USER=cvuser
POSTGRES_PASSWORD=your-secure-database-password

# Full database URL
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_HOST=cv-cnc-redis
REDIS_PORT=6379
REDIS_PASSWORD=your-secure-redis-password
REDIS_URL=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}/0

# =============================================================================
# DOCKER REGISTRY CONFIGURATION
# =============================================================================
CV_CNC_REGISTRY=your-registry.com/cv-cnc-manufacturing
DOCKER_REGISTRY_USERNAME=your-registry-username
DOCKER_REGISTRY_PASSWORD=your-registry-password

# =============================================================================
# KUBERNETES CONFIGURATION
# =============================================================================
CV_CNC_NAMESPACE=cv-cnc-manufacturing
KUBERNETES_CONTEXT=production-cluster

# =============================================================================
# CNC MACHINE CONFIGURATION
# =============================================================================
# MTConnect Configuration
CV_CNC_MTCONNECT_HOST=cnc-machine-1.factory.local
CV_CNC_MTCONNECT_PORT=5000
CV_CNC_MTCONNECT_INTERVAL=1000

# OPC-UA Configuration
CV_CNC_OPCUA_ENDPOINT=opc.tcp://cnc-machine-1.factory.local:4840
CV_CNC_OPCUA_USERNAME=opcua_user
CV_CNC_OPCUA_PASSWORD=opcua_password
CV_CNC_OPCUA_SECURITY_POLICY=Basic256Sha256

# Modbus Configuration
CV_CNC_MODBUS_HOST=cnc-machine-2.factory.local
CV_CNC_MODBUS_PORT=502
CV_CNC_MODBUS_UNIT_ID=1

# =============================================================================
# COMPUTER VISION CONFIGURATION
# =============================================================================
CV_CNC_USE_GPU=true
CV_CNC_MAX_IMAGE_SIZE=2048x2048
CV_CNC_DEFECT_THRESHOLD=0.8
CV_CNC_QUALITY_THRESHOLD=0.95
CV_CNC_BATCH_SIZE=4

# Model Configuration
CV_CNC_DEFECT_MODEL=yolov8_defect_v1.0
CV_CNC_QUALITY_MODEL=resnet_quality_v1.0
CV_CNC_MODEL_PATH=/app/models

# =============================================================================
# MONITORING CONFIGURATION
# =============================================================================
# Prometheus
PROMETHEUS_ENDPOINT=http://cv-cnc-monitoring-prometheus:9090
PROMETHEUS_RETENTION=30d

# Grafana
GRAFANA_HOST=cv-cnc-monitoring-grafana
GRAFANA_PORT=3000
GRAFANA_USERNAME=admin
GRAFANA_PASSWORD=your-secure-grafana-password

# InfluxDB
INFLUXDB_HOST=cv-cnc-influxdb
INFLUXDB_PORT=8086
INFLUXDB_USERNAME=admin
INFLUXDB_PASSWORD=your-secure-influxdb-password
INFLUXDB_ORG=cv-cnc-manufacturing
INFLUXDB_BUCKET=manufacturing-data
INFLUXDB_TOKEN=your-influxdb-token

# =============================================================================
# SSL/TLS CONFIGURATION
# =============================================================================
CV_CNC_DOMAIN=cv-cnc-api.your-domain.com
CV_CNC_VISION_DOMAIN=cv-cnc-vision.your-domain.com
CV_CNC_MONITORING_DOMAIN=cv-cnc-monitoring.your-domain.com

# Certificate paths (for file-based certificates)
CV_CNC_TLS_CERT_PATH=/app/certs/tls.crt
CV_CNC_TLS_KEY_PATH=/app/certs/tls.key
CV_CNC_CA_CERT_PATH=/app/certs/ca.crt

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
CV_CNC_LOG_LEVEL=INFO
CV_CNC_LOG_FORMAT=json
CV_CNC_LOG_RETENTION_DAYS=30

# Structured logging
CV_CNC_USE_STRUCTLOG=true
CV_CNC_LOG_FILE=/app/logs/cv_cnc_manufacturing.log

# Sentry configuration (optional)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=production

# =============================================================================
# MANUFACTURING CONFIGURATION
# =============================================================================
# Safety Configuration
CV_CNC_SAFETY_MODE=true
CV_CNC_EMERGENCY_STOP_ENABLED=true
CV_CNC_SAFETY_ZONE_ENABLED=true

# Quality Control
CV_CNC_AUTO_REJECT_ENABLED=true
CV_CNC_QUALITY_CONTROL_ENABLED=true
CV_CNC_INSPECTION_TIMEOUT=30

# Production Configuration
CV_CNC_PRODUCTION_MODE=true
CV_CNC_MAX_CONCURRENT_INSPECTIONS=10
CV_CNC_INSPECTION_QUEUE_SIZE=100

# =============================================================================
# PERFORMANCE CONFIGURATION
# =============================================================================
# API Performance
CV_CNC_MAX_WORKERS=8
CV_CNC_WORKER_TIMEOUT=120
CV_CNC_MAX_REQUESTS=1000
CV_CNC_KEEPALIVE=5

# Computer Vision Performance
CV_CNC_GPU_MEMORY_LIMIT=8192
CV_CNC_CPU_THREADS=4
CV_CNC_PROCESSING_TIMEOUT=60

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================
# Database backup
CV_CNC_BACKUP_ENABLED=true
CV_CNC_BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM
CV_CNC_BACKUP_RETENTION_DAYS=30
CV_CNC_BACKUP_LOCATION=/app/backups

# Model backup
CV_CNC_MODEL_BACKUP_ENABLED=true
CV_CNC_MODEL_BACKUP_LOCATION=/app/model-backups

# =============================================================================
# COMPLIANCE CONFIGURATION
# =============================================================================
# ISO 9001 Configuration
CV_CNC_ISO9001_ENABLED=true
CV_CNC_AUDIT_LOGGING=true
CV_CNC_DOCUMENT_RETENTION_YEARS=7

# IATF 16949 Configuration
CV_CNC_IATF16949_ENABLED=true
CV_CNC_TRACEABILITY_ENABLED=true

# IEC 62443 Security Configuration
CV_CNC_IEC62443_ENABLED=true
CV_CNC_SECURITY_LOGGING=true
CV_CNC_ACCESS_CONTROL_ENABLED=true

# =============================================================================
# ALERT CONFIGURATION
# =============================================================================
# Email alerts
ALERT_EMAIL_ENABLED=true
ALERT_EMAIL_SMTP_HOST=smtp.your-company.com
ALERT_EMAIL_SMTP_PORT=587
ALERT_EMAIL_USERNAME=alerts@your-company.com
ALERT_EMAIL_PASSWORD=your-email-password
ALERT_EMAIL_TO=manufacturing-team@your-company.com

# Slack alerts
ALERT_SLACK_ENABLED=false
ALERT_SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK

# PagerDuty alerts
ALERT_PAGERDUTY_ENABLED=false
ALERT_PAGERDUTY_INTEGRATION_KEY=your-pagerduty-integration-key

# =============================================================================
# DEVELOPMENT OVERRIDES
# =============================================================================
# Set these to override defaults for development
# CV_CNC_DEBUG=true
# CV_CNC_LOG_LEVEL=DEBUG
# CV_CNC_USE_GPU=false
# CV_CNC_SAFETY_MODE=false
